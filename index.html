<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Trojan.tor</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: monospace;
      height: 100%;
      background: #fff;
      overflow: hidden;
      font-size: 18px;
    }
    /* Modal overlay */
    #modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      color: #0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      z-index: 100;
    }
    #modal h1 {
      font-size: 2.5em;
      margin: 0.2em;
    }
    #modal p {
      font-size: 1.5em;
      margin: 0.2em;
    }
    /* Terminal style */
    #terminal {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 90%;
      max-width: 800px;
      height: 60%;
      transform: translate(-50%, -50%);
      background: #000;
      border: 2px solid #0f0;
      padding: 10px;
      overflow-y: auto;
      box-shadow: 0 0 15px #0f0;
      color: #0f0;
      font-size: 1.2em;
    }
    #terminal p {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <!-- Modal Pop-up -->
  <div id="modal">
    <h1>Capturing Victim...</h1>
    <p id="ipDisplay">Device Connected: Retrieving IP...</p>
  </div>

  <!-- Terminal Window -->
  <div id="terminal"></div>

  <script>
    // Fetch the user's IP address with fallback
    function fetchIP() {
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
          document.getElementById('ipDisplay').innerText = "Device Connected: " + data.ip;
        })
        .catch(error => {
          document.getElementById('ipDisplay').innerText = "Device Connected: Unable to fetch IP";
          console.error('Error fetching IP:', error);
        });
    }

    // Array of hacking lines with Tornet keywords and signature "Richie"
    const gibberishLines = [
      "Initializing Tornet breach protocol...",
      "Deploying Richieâ€™s Rootkit v3.6...",
      "Scanning for open ports and services...",
      "Enumerating subdomains and DNS records...",
      "Injecting zero-day exploit into kernel...",
      "Hijacking SSH sessions...",
      "Bypassing deep packet inspection (DPI)...",
      "Executing privilege escalation exploit...",
      "Compiling shellcode for remote injection...",
      "Exfiltrating hashed credentials...",
      "Decrypting AES-256 secured vault...",
      "Injecting SQL payload into backend DB...",
      "Establishing persistent C2 (command & control) link...",
      "Deploying polymorphic malware variant...",
      "Manipulating registry keys for persistence...",
      "Executing DLL sideloading attack...",
      "Scraping memory for plaintext passwords...",
      "Escalating permissions to SYSTEM...",
      "Tampering with security event logs...",
      "Executing man-in-the-middle (MITM) attack...",
      "Bypassing biometric authentication...",
      "Spoofing MAC address for anonymity...",
      "Abusing token impersonation for lateral movement...",
      "Deploying keystroke logger in stealth mode...",
      "Injecting reverse shell into system process...",
      "Fuzzing network endpoints for vulnerabilities...",
      "Launching ransomware encryption sequence...",
      "Hijacking session cookies and JWT tokens...",
      "Decrypting WPA2 handshake using brute force...",
      "Establishing encrypted VPN tunnel for covert ops...",
      "Executing side-channel cache timing attack...",
      "Mapping entire network topology...",
      "Injecting rootkit into hypervisor layer...",
      "Compromising Docker container for host escape...",
      "Executing buffer overflow attack...",
      "Evading endpoint detection with code obfuscation...",
      "Cracking NTLM hashes via rainbow table...",
      "Abusing CVE-2025-XXXXX for zero-click exploit...",
      "Tearing down IDS/IPS network defenses...",
      "Finalizing full system compromise...",
      "Root access granted... Controlled by Richie."
    ];

    // Helper function to shuffle an array (Fisher-Yates shuffle)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Phase 1: Print every line from the shuffled gibberishLines array with random delays.
    function startFastGibberish() {
      const terminal = document.getElementById('terminal');
      terminal.style.display = 'block';
      terminal.innerHTML = ""; // clear terminal

      const lines = shuffleArray([...gibberishLines]); // shuffled copy of the array

      function printLine(index) {
        if (index >= lines.length) {
          // After printing all lines, move to final message after a short pause.
          setTimeout(showFinalMessage, 500);
          return;
        }
        const p = document.createElement('p');
        p.textContent = lines[index];
        terminal.appendChild(p);
        terminal.scrollTop = terminal.scrollHeight;
  
        // Random delay between 200ms and 980ms, 10% chance for 1100ms
        let delay = Math.floor(Math.random() * (980 - 200 + 1)) + 200;
        if (Math.random() < 0.1) {
          delay = 1100;
        }
  
        setTimeout(() => printLine(index + 1), delay);
      }
      printLine(0);
    }

    // Phase 2: Show final message for 3 seconds before closing the tab
    function showFinalMessage() {
      const terminal = document.getElementById('terminal');
      terminal.innerHTML = ""; // clear terminal
      const finalMessage = document.createElement('p');
      finalMessage.style.textAlign = "center";
      finalMessage.style.fontSize = "1.5em";
      finalMessage.style.marginTop = "40%";
      finalMessage.textContent = "Victim Captured. Device Information Taken. Passwords Taken. Photos Taken.";
      terminal.appendChild(finalMessage);
      // After 3 seconds, close the tab
      setTimeout(() => {
        window.close();
      }, 3000);
    }

    // Start hacking sequence: hide modal, switch background, and start terminal sequence
    function startHacking() {
      document.body.style.background = "#000";
      document.getElementById('modal').style.display = 'none';
      startFastGibberish();
    }

    // On page load, fetch IP and then start hacking sequence after 3 seconds (with fallback for IP)
    window.onload = function() {
      fetchIP();
      // After 3 seconds, if the IP is still not updated, fallback to "Unknown" and start
      setTimeout(() => {
        const ipDisplay = document.getElementById('ipDisplay');
        if (ipDisplay.innerText.includes("Retrieving IP")) {
          ipDisplay.innerText = "Device Connected: Unknown";
        }
        startHacking();
      }, 3000);
    }
  </script>
</body>
</html>
